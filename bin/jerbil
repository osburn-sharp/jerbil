#!/usr/bin/env ruby
#
#
# = Jerbil command line utility
#
# == control and display jerbil related info
#
# Author:: Robert Sharp
# Copyright:: Copyright (c) 2011 Robert Sharp
# License:: Open Software Licence v3.0
#
# This software is licensed for use under the Open Software Licence v. 3.0
# The terms of this licence can be found at http://www.opensource.org/licenses/osl-3.0.php
# and in the file copyright.txt. Under the terms of this licence, all derivative works
# must themselves be licensed under the Open Software Licence v. 3.0
#
# Trial using Thor
#
require 'rubygems'
require 'thor'
require 'thor/group'
require 'jerbil'
require 'colored'


$LOAD_PATH.unshift File.expand_path('../lib', File.dirname(__FILE__))
require 'jerbil/thor/install'
require 'jerbil/thor/server'
require 'jerbil/thor/service'



# the main thor handler
class Jerbs < Thor
  
  #class_option :verbose, :default=>false, :aliases=>'-V', :desc=>'print more information'
  
  desc "test", "This is just to test things"
  method_option :debug, :aliases=>'-D', :desc=>'display debug information'
  def test
    puts "Hello World"
    if options[:debug] then
      puts "Debugging..."
      puts "  Load Path:"
      $LOAD_PATH.each do |lpath|
        puts "    #{lpath.to_s}"
      end
    end
  end
  
  
  register Server, :server, "server", "show information about jerbil servers"
  

  register Service, :service, "service", "show information about registered services"
  
  map "services"=>"service"

  # use separate jenny installer
  #register Installer, :install, "install", "install jerbil on local machine"
  
end

Jerbs.start